<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title></title>
    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
    <link href="/examples/styles/output.css" rel="stylesheet" />
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/styles/default.min.css"> -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/styles/atom-one-light.min.css"
    />
    <link
      rel="stylesheet"
      href="/examples/styles/oceanicnext.css"
    />
    <!-- highlight.js -->
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/languages/html.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/languages/javascript.min.js"></script>
    <!-- marked -->
    <script src="https://cdn.jsdelivr.net/npm/marked/lib/marked.umd.js"></script>
    <!-- alpine remote component plugin -->
    <script type="module" defer src="/remote-component/builds/cdn.js"></script>
    <script type="module" defer src="/remote-component-lite/builds/cdn.js"></script>
    <script defer src="/examples/custom-elements.js"></script>
    <script defer src="/examples/examples.js"></script>
    <script defer src="/examples/store.js"></script>
    <!-- ui-components -->
    <script defer src="/examples/ui-components.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/litewind-alpine@0.x.x/plugins/use-floating/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/litewind-alpine@0.x.x/plugins/transition/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/litewind-alpine@0.x.x/components/modal/dist/cdn.min.js"></script>
    <!-- alpine -->
    <script defer src="/examples/store/store.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/focus@3.x.x/dist/cdn.min.js"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"
    ></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
  </head>
  <body class="dark:bg-[#191919]">
    <nav
      class="fixed top-0 w-full z-40 flex items-center justify-between border-b border-gray-200 bg-white dark:bg-[#191919] dark:border-neutral-700 p-2 pr-4 text-gray-800 h-12"
    >
      <span class="text-lg font-semibold ml-4 dark:text-gray-300"> Alpine Remote Component </span>
      <a href="https://github.com/maciejg-git/alpine-remote-component-plugin">
        <div x-data x-remote-component="#icon.github.lg"></div>
      </a>
    </nav>

    <div
      x-data="{
        examples: {},
        isLoaded: true,
        isLoading: true,
        route: 'basic-examples',
      }"
      @rc-completing="isLoading = true"
      @rc-completed="isLoading = false"
      class="flex"
    >
      <div class="hidden border-gray-200 lg:block min-w-85 dark:text-gray-300">
        <div class="sticky top-12 max-h-[calc(100vh-3rem)] min-h-[calc(100vh-3rem)] overflow-y-scroll pb-20 px-12 pt-6">
          <ul>
            <li
              :class="{ 'font-semibold': route === 'basic-examples' }"
              class="pl-2"
            >
              <a href="" @click.prevent="route = 'basic-examples'">
                Basic examples
              </a>
            </li>
            <li
              :class="{ 'font-semibold': route === 'ui-components' }"
              class="pl-2"
            >
              <a href="" @click.prevent="route = 'ui-components'">
                UI components
              </a>
            </li>
          </ul>
          <hr class="border-gray-200 dark:border-neutral-700 my-6" />
          <div
            x-remote-component="#placeholder.list"
            _x-show="isLoading"
            _class="mx-auto mt-10 w-60"
          ></div>
          <ul x-show="!isLoading" class="flex flex-col gap-y-1 text-sm mt-6">
            <template x-for="example in examples">
              <li
                x-show="route === example.name"
                :class="{ 'font-semibold border-violet-400': example.isVisible }"
                class="border-l-4 border-transparent pl-2"
              >
                <a :href="'#' + example.id" x-text="example.title"></a>
              </li>
            </template>
          </ul>
        </div>
      </div>

      <div class="mx-auto max-w-4xl w-full mt-12">
        <div
          x-data="{ isCompleted: false }"
          x-show="route === 'basic-examples'"
          @rc-completed="isCompleted = true"
        >
          <div
            x-remote-component="#placeholder.example"
            _x-show="!isCompleted"
            _class="mx-auto mt-20"
          ></div>
          <div
            x-remote-component="/examples/examples.html"
            data-rc-swap="inner"
            data-rc-trigger="reactive"
            x-effect="_rc.triggerEffect(route === 'basic-examples')"
            x-show="isCompleted"
            x-transition.opacity
            x-data="{ name: 'basic-examples' }"
          >
          </div>
        </div>

        <div
          x-data="{ isCompleted: false }"
          x-show="route === 'ui-components'"
          @rc-completed="isCompleted = true"
        >
          <div
            x-remote-component="#placeholder.example"
            _x-show="!isCompleted"
            _class="mx-auto mt-20"
          ></div>
          <div
            x-remote-component="/examples/ui-components.html"
            data-rc-swap="inner"
            data-rc-trigger="reactive"
            x-effect="_rc.triggerEffect(route === 'ui-components')"
            x-show="isCompleted"
            x-transition.opacity
            x-data="{ name: 'ui-components' }"
          >
          </div>
        </div>
      </div>
    </div>

    <div
      x-data
      x-remote-component="/examples/page-components/modal.html"
      data-rc-trigger="load 1000 0"
    ></div>

    <template id="example">
      <div
        x-data="example"
        @rc-inserted="handleComponentInserted"
        x-intersect:enter="examples[$el.id].isVisible = true"
        x-intersect:leave="examples[$el.id].isVisible = false"
        class="scroll-mt-16"
      >
        <div class="flex flex-col gap-y-6">
          <div class="flex items-center justify-between">
            <h2 class="text-2xl font-semibold">
              <div data-slot="title"></div>
            </h2>
          </div>

          <div class="flex flex-col gap-y-4">
            <div data-slot="text"></div>
          </div>

          <div class="relative" x-show="isExampleLoaded">
            <pre
              class="overflow-hidden rounded-xl text-sm"
            ><code class="language-html" x-text="html">
            </code></pre>
            <a
              :href="'https://github.com/maciejg-git/alpine-remote-component-plugin/tree/main' + path"
              class="absolute right-4 top-4"
            >
              <div x-remote-component="#icon.github.sm"></div>
            </a>
          </div>

          <div class="flex flex-col items-center gap-y-4 mt-6 mb-2">
            <div data-slot="example"></div>
          </div>
        </div>
      </div>
    </template>

    <template id="loader">
      <div
        x-data="{
          components: [],
          handleInserted() {
            let name = this.$event.detail.name
            this.components = this.components.filter((c) => c !== name)
            this.$nextTick(() => {
              if (!this.components.length) this.$dispatch('rc-completed', this._rc.config)
            })
          },
          handleInitialized() {
            if (!this.$event.detail.config.name) return
            this.components.push(this.$event.detail.config.name)
          }
        }"
        @rc-inserted="handleInserted"
        @rc-initialized="handleInitialized"
      >
        <div data-slot></div>
      </div>
    </template>

    <template id="placeholder.example">
      <div class="flex flex-col gap-y-4 animate-pulse">
        <div class="h-10 rounded-lg bg-gray-100"></div>
        <div class="h-90 rounded-lg bg-gray-100"></div>
        <div class="h-30 rounded-lg bg-gray-100"></div>
      </div>
    </template>

    <template id="placeholder.list">
      <div class="flex flex-col gap-y-4">
        <div class="h-4 rounded-lg bg-gray-100"></div>
        <div class="h-4 rounded-lg bg-gray-100"></div>
        <div class="h-4 rounded-lg bg-gray-100"></div>
        <div class="h-4 rounded-lg bg-gray-100"></div>
      </div>
    </template>

    <template id="icon.chevron">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="currentColor"
        viewBox="0 0 512 512"
        class="ml-2 h-4 w-4 rotate-180 transform duration-200 data-[is-active=true]:rotate-0!"
      >
        <path
          d="M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"
        />
      </svg>
    </template>

    <template id="icon.info-circle">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="currentColor"
        class="h-6 w-6"
        viewBox="0 0 16 16"
      >
        <path
          d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"
        />
        <path
          d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"
        />
      </svg>
    </template>

    <template id="icon.search">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
      </svg>
    </template>

    <template id="icon.close">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        viewBox="0 0 16 16"
      >
        <path
          d="M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"
        />
      </svg>
    </template>

    <template id="icon.github.lg">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        viewBox="0 0 16 16"
        class="h-6 w-6 text-gray-600"
      >
        <path
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"
        />
      </svg>
    </template>

    <template id="icon.github.sm">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        viewBox="0 0 16 16"
        class="h-5 w-5 text-gray-500"
      >
        <path
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"
        />
      </svg>
    </template>
  </body>
</html>
