<div
  x-data="{
    count: 0,
    handleInserted() {
      if (this.$event.detail.name === 'example') {
        this.count--
        this.$nextTick(() => {
          if (!this.count) this.$dispatch('rc-completed')
        })
      }
    },
    handleInitialized() {
      if (this.$event.detail.config.name === 'example') {
        this.count++
      }
    },
    init() {
      this.$dispatch('rc-completing')
    }
  }"
  @rc-inserted="handleInserted"
  @rc-initialized="handleInitialized"
>
  <div class="mb-20 mt-20 flex flex-col gap-y-10 px-6 text-gray-800">
    <div x-remote-component="#example" _id="basic-id-component">
      <template data-for-slot="title"> Basic ID component </template>
      <template data-for-slot="text">
        <p class="markdown">
          To load the ID component use an ID string starting with `#`.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/basic-id-component.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="basic-url-component">
      <template data-for-slot="title"> Basic URL component </template>
      <template data-for-slot="text">
        <p class="markdown">
          To load the URL component use a path starting with `/`.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/basic-url-component.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="basic-dynamic-component">
      <template data-for-slot="title"> Basic dynamic component </template>
      <template data-for-slot="text">
        <p class="markdown">
          Values that are not ID or path are evaluated by Alpine before
          loading the component. The result of the evaluation should be an
          ID or path.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/basic-dynamic-component.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="trigger-load">
      <template data-for-slot="title"> Trigger - Load </template>
      <template data-for-slot="text">
        <p class="markdown">
          The `load` trigger loads the component immediately. This is
          default trigger.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/trigger-load.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="trigger-event">
      <template data-for-slot="title"> Trigger - Event </template>
      <template data-for-slot="text">
        <p class="markdown">
          The `event` trigger loads the component on a specified event. You
          should add the listener separately using the `x-on` directive.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/trigger-event.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="trigger-reactive">
      <template data-for-slot="title"> Trigger - Reactive </template>
      <template data-for-slot="text">
        <p class="markdown">
          The `reactive` trigger loads the component when reactive properties change. You should add the `x-effect` directive with the `_rc.triggerEffect` function and provide the expressions to evaluate as arguments.
        </p>
        <p class="markdown">
          You can also load and remove a component based on a reactive
          property by combining the `load` trigger with the `x-if`
          directive. See the [x-if](#x-if) or [Basic
          navigation](#router-view) examples.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/trigger-reactive.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="trigger-intersect">
      <template data-for-slot="title"> Trigger - Intersect </template>
      <template data-for-slot="text">
        <p class="markdown">
          The `intersect` trigger loads component when it enters the
          viewport. This trigger uses Alpine intersect plugin.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/trigger-intersect.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="trigger-custom">
      <template data-for-slot="title"> Trigger - Custom </template>
      <template data-for-slot="text">
        <p class="markdown">
          The `custom` trigger does not specify when or how to load the
          component, instead it relies on calling the `trigger` function
          manually.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/trigger-custom.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="trigger-delay">
      <template data-for-slot="title"> Trigger delay </template>
      <template data-for-slot="text">
        <p class="markdown">
          You can delay loading of the component by adding two parameters to
          the `data-rc-trigger` attribute value:
        </p>
        <ul class="list-inside list-disc">
          <li>delay (ms) before sending the request.</li>
          <li>delay (ms) before inserting the component into the DOM.</li>
        </ul>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/trigger-delay.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="indicator">
      <template data-for-slot="title"> Loading indicator </template>
      <template data-for-slot="text">
        <p class="markdown">
          The `x-remote-component` element can contain any content that will
          be visible until it is replaced by the component. You can use it
          for placeholders, indicators, progress bars, etc. To display it
          conditionally while the component is loading, use the `x-show`
          directive together with the `_rcIsLoading` or
          `_rcIsLoadingWithDelay` properties.
        </p>
        <p class="markdown">
          The second example uses indicator component for better
          reusability.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/indicator.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="swap-inner">
      <template data-for-slot="title"> Swap - Inner </template>
      <template data-for-slot="text">
        <p class="markdown">
          Use the `inner` swap option to insert the component inside the
          `x-remote-component` element.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/swap-inner.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="swap-outer">
      <template data-for-slot="title"> Swap - Outer </template>
      <template data-for-slot="text">
        <p class="markdown">
          Use the `outer` swap option to replace the `x-remote-component`
          element with the component.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/swap-outer.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        ></div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="swap-target">
      <template data-for-slot="title"> Swap - Target </template>
      <template data-for-slot="text">
        <p class="markdown">
          Use the `target` swap option to insert the component into the element marked with the `data-target` attribute inside the `x-remote-component` element.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/swap-target.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="events">
      <template data-for-slot="title"> Events </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/events.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="x-if">
      <template data-for-slot="title"> x-if </template>
      <template data-for-slot="text">
        <p class="markdown">
          The `x-if` directive requires a single root element, so you need
          to use the inner swap option or wrap the component in an
          additional element.
        </p>
        <p class="markdown">
          Putting the component inside an `x-if` template can be useful for
          removing or reloading it, since components normally load only
          once, even if `_rc.trigger` is called multiple times.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/x-if.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="x-for">
      <template data-for-slot="title"> x-for </template>
      <template data-for-slot="text">
        <p class="markdown">
          The `x-for` directive requires a single root element, so you need
          to use the inner swap option or wrap the component in an
          additional element.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/x-for.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="basic-data-template">
      <template data-for-slot="title"> Basic data-slot </template>
      <template data-for-slot="text">
        <p class="markdown">
          The contents of template elements marked with `data-for-slot`
          attribute replace the corresponding `data-slot` elements in the
          component. This provides functionality similar to slots and
          enhances the reusability of components.
        </p>
        <p class="markdown">
          The new content can be static or include other components.
        </p>
        <p class="markdown">
          You can use any element type for `data-slot`. The `data-slot`
          element's content is used as default slot content if there is no
          corresponding `data-for-slot`. You can nest `data-slot` elements,
          however, when an outer `data-slot` is replaced, its inner
          `data-slot` elements are also replaced and therefore unavailable
          for further replacement.
        </p>
        <p class="markdown">
          You can omit the slot name in `data-slot` and `data-for-slot` for
          the component’s default slot.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/basic-data-template.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="data-template-components">
      <template data-for-slot="title"> data-slot components </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/data-template-components.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div
      x-remote-component="#example"
      _id="data-template-nested-components"
    >
      <template data-for-slot="title">
        data-slot nested components
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/data-template-nested-components.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="component-data-getters">
      <template data-for-slot="title">
        Passing data to component - getters
      </template>
      <template data-for-slot="text">
        <p class="markdown">
          In Alpine, data defined with `x-data` can be accessed directly by
          child elements. This can have a few disadvantages in the context
          of components:
        </p>
        <ul class="list-inside list-disc">
          <li>
            there’s no clear information about which external data the
            component is using
          </li>
          <li>the component can accidentally mutate property values</li>
          <li>
            it reduces reusability, since changes require updating both the
            component and the application
          </li>
        </ul>
        <p class="markdown">
          You can make component data safer and more reusable by adding
          local `x-data`. The advantages are:
        </p>
        <ul class="list-inside list-disc">
          <li>
            there’s clear information about which data the component expects
            and how it connects to the rest of the application
          </li>
          <li>
            even if a property is mutated, only the local data changes
          </li>
          <li>
            any changes in the application or the component now require
            updating only the property or the getter
          </li>
        </ul>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/component-data-getters.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="component-data-attributes">
      <template data-for-slot="title">
        Passing data to component - attributes
      </template>
      <template data-for-slot="text">
        <p class="markdown">In this example, data is passed to the component through attributes. Inside the component, getters are defined to access the data bound to those attributes.</p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/component-data-attributes.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="copy-attributes">
      <template data-for-slot="title"> Copy component attributes </template>
      <template data-for-slot="text">
        <p class="markdown">
          Attributes prefixed with `prop:` or `_` are transferred to the component’s root element. For components with multiple root elements, the attributes are transferred to the first child element. If an attribute already exists, its value is updated. Classes are an exception and are merged with the existing classes.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/copy-attributes.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="router-view">
      <template data-for-slot="title"> Basic navigation </template>
      <template data-for-slot="text">
        <p class="markdown">
          This example shows how to create simple navigation between
          components by combining `x-if`, `x-show`, and `x-for` templates.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/router-view.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="load-multiple-components">
      <template data-for-slot="title"> Loading of multiple components </template>
      <template data-for-slot="text">
        <p class="markdown">
          Normally, components are loaded independently or, if a component is nested, only after its parent has loaded. Sometimes you may prefer to wait until all components are loaded, for example, to use a single loading indicator or to prevent layout shifts.
        </p>
        <p class="markdown">
          The snippet below shows how this can be done using `rc-*` events and an additional wrapper element that handles the loading of inner components.
        </p>
        <p class="markdown">
          In this example, the components are displayed only after all named components have finished loading.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/load-multiple-components.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="recursive">
      <template data-for-slot="title"> Recursive components </template>
      <template data-for-slot="text">
        <p class="markdown">
          Components can reference themselves in the template. This can be
          useful for creating recursive structures.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/recursive.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="errors">
      <template data-for-slot="title"> Handling errors </template>
      <template data-for-slot="text">
        <p class="markdown">
          The `_rcError` reactive property stores the latest error. You can
          use it to display fallback content within the component.
        </p>
        <p class="markdown">An error can be:</p>
        <ul class="list-inside list-disc">
          <li>a request status code for URL components</li>
          <li class="markdown">
            an `ID not found` message for ID components when the template
            cannot be found
          </li>
        </ul>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/errors.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="x-component">
      <template data-for-slot="title"> x-component </template>
      <template data-for-slot="text">
        <p class="markdown">
          The plugin adds a custom `x-component` element. It is optional,
          and internally works the same as the `x-remote-component` element,
          but is dedicated to components and allows simpler attributes.
        </p>
        <p class="markdown">
          The `x-component` can be particularly useful for components with a dynamic source or small reusable components like icons.
        </p>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/x-component.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="custom-elements">
      <template data-for-slot="title"> Custom element components </template>
      <template data-for-slot="text">
        <p class="markdown">
          You can also create dedicated custom elements for specific
          components. This allows the simplest usage with just a component
          tag, but it requires an additional step of registering the
          available components.
        </p>
        <p class="markdown">
          Just like the generic `x-component` element, custom element
          components are optional. You can register them using the
          `Alpine.$rc.makeCustomElementComponents` function. Each component
          must define at least the `tag` and `source` properties, while
          other options such as `trigger` or `swap` are optional.
        </p>
        <p class="markdown">
          You can nest registered components by placing them inside the `components` array. This is optional and mainly for better organization, as nested components can still be used as standalone, top-level components. See an example of nested components [here](https://github.com/maciejg-git/alpine-remote-component-plugin/blob/main/examples/ui-components.js).
        </p>
        <p class="markdown">
          If you’re using a CDN to include files, make sure to call the `Alpine.$rc.makeCustomElementComponents` function after the plugin but before the main Alpine JS file.
        </p>
        <pre
          class="overflow-hidden rounded-xl text-sm"
        ><code class="language-javascript">document.addEventListener("alpine:init", () =&gt; {
      let components = [
        {
          tag: 'component-a',
          source: '/examples/components/component-a.html',
          trigger: 'load',
        },
        {
          tag: 'component-b',
          source: '/examples/components/component-b.html',
          trigger: 'load',
        },
      ]
      Alpine.$rc.makeCustomElementComponents(components)
    })</code></pre>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/custom-elements.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="script">
      <template data-for-slot="title"> Importing scripts </template>
      <template data-for-slot="text">
        <p class="markdown">
          If your component data is defined with the `Alpine.data` function
          in a separate file, you can import it and make it available to the
          component using the `data-rc-script` attribute. The imported file
          should be compatible with the [Alpine plugin
          API](https://alpinejs.dev/advanced/extending#bundle-module).
        </p>
        <pre
          class="overflow-hidden rounded-xl text-sm"
        ><code class="language-javascript">// component-script.js

    export default function (Alpine) {
      Alpine.data("componentData", () =&gt; {
        return {
          content: "Reusable component data"
        }
      })
    }</code></pre>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/script.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>

    <hr class="border-gray-200" />

    <div x-remote-component="#example" _id="rc-lite">
      <template data-for-slot="title"> rc-lite </template>
      <template data-for-slot="text">
        <p class="markdown">
          `rc-lite` is a lightweight version of the plugin, optimized for performance and offering a limited set of options. It can be used to load ID or dynamic ID components only.
        </p>
        <p class="markdown">
          The available options are:
        </p>
        <ul class="list-inside list-disc">
          <li class="markdown">`data-rc-swap` — specifies whether to use an inner or outer swap</li>
          <li class="markdown">`data-rc-init` — initializes Alpine inside the component, useful if the component contains nested components or any Alpine directives</li>
        </ul>
      </template>
      <template data-for-slot="example">
        <div
          x-remote-component="/examples/remote-component-lite.html"
          data-rc-name="example"
          data-rc-trigger="load 0 500"
          class="w-full"
        >
          <div x-remote-component="#placeholder"></div>
        </div>
      </template>
    </div>
  </div>
</div>
